# Mprove Helm Charts

## Prerequisites
  - Kubernetes cluster 
  - Kubectl
  - Helm v3.10+

## Setup Kubernetes Cluster

Create namespace:
```
kubectl create namespace mprove
```

Default [mprove/values.yaml](https://github.com/mprove-io/mprove-helm-charts/blob/master/mprove/values.yaml) values should be overrided by your custom values. Values examples:
- [values-mprove-example-managed-demo.yaml](https://github.com/mprove-io/mprove-helm-charts/blob/master/values-mprove-example-managed-demo.yaml)
- [values-mprove-example-no-demo.yaml](https://github.com/mprove-io/mprove-helm-charts/blob/master/values-mprove-example-no-demo.yaml)
- [values-mprove-example-gitclone-demo.yaml](https://github.com/mprove-io/mprove-helm-charts/blob/master/values-mprove-example-gitclone-demo.yaml)

Create **values-mprove.yaml** file to override helm chart default values:
```
curl 'https://raw.githubusercontent.com/mprove-io/mprove-helm-charts/master/values-mprove-example-managed-demo.yaml' > values-mprove.yaml
```

Replace the suggested values in the file with your own.

### Custom Ingress

If you are using your own Ingress, make sure HTTP requests are routed between the Front and Backend services using the "/api" prefix. Check [mprove/templates/ingress/route.yaml](https://github.com/mprove-io/mprove-helm-charts/blob/master/mprove/templates/ingress/route.yaml) for example.

```
ingress:
  enabled: false
```

### Mprove Istio Ingress

Install istioctl:
```
brew install istioctl 
```

Install Istio to the cluster:
```
istioctl install
```

Add istio-injection label:
```
kubectl label namespace mprove istio-injection=enabled --overwrite
```

Install Cert Manager to the cluster:
```
helm repo add jetstack https://charts.jetstack.io
helm repo update
helm install cert-manager jetstack/cert-manager -n cert-manager --create-namespace --set installCRDs=true
```

Create DNS A record pointing your `real-host.example.com` to your kubernetes cluster's LoadBalancer public IP.

**values-mprove.yaml** overrides example:
```
ingress:
  enabled: true
  host: real-host.example.com
  acmeEmail: real-email@example.com
```

## Install Mprove Helm Chart

```
helm install -f values-mprove.yaml mprove oci://ghcr.io/mprove-io/mprove-helm-charts/mprove --version <CHART_VERSION> -n mprove
```

```
helm upgrade -f values-mprove.yaml mprove oci://ghcr.io/mprove-io/mprove-helm-charts/mprove --version <CHART_VERSION> -n mprove
```

```
helm uninstall mprove -n mprove
```

```
helm template -f values-mprove.yaml mprove oci://ghcr.io/mprove-io/mprove-helm-charts/mprove --version <CHART_VERSION> -n mprove
```

## First Project (demo/p1)

First Project (p1) belongs to the First Org (demo).

First User gets the role **Owner** for the First Org (demo).

First User gets the role **Admin** for the First Project (p1).

First Project is for demonstration purposes only. 
Many user actions in the demo/p1 project are restricted.

Each new registered Mprove user is automatically added to the demo/p1 project.

To disable First Org and First Project, you need to set the environment variables to empty values.
Then delete demo/p1 via UI if they are already created. 

```
backendCommon:
  envs:
    BACKEND_FIRST_ORG_ID=
    BACKEND_FIRST_PROJECT_ID=
```

You can also disable demo data warehouses: 

```
dwhPostgres:
  enabled: false
```

```
dwhClickhouse:
  enabled: false
```

## Values Configuration

| Parameter                                                                                            | Description                                                                                                                                                                                                                                                                           | Default                                                    |
| ---------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------- |
| **ingress:**                                                                                         | **Kubernetes Ingress (Istio + Cert Manager)**                                                                                                                                                                                                                                         |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;enabled:                                                                     | Enables [mprove/templates/ingress/*](https://github.com/mprove-io/mprove-helm-charts/tree/master/mprove/templates/ingress) resources                                                                                                                                                  | `false`                                                    |
| &nbsp;&nbsp;&nbsp;&nbsp;host:                                                                        | *Replace with real host*.                                                                                                                                                                                                                                                             | `real-host.example.com`                                    |
| &nbsp;&nbsp;&nbsp;&nbsp;acmeEmail:                                                                   | *Replace with real email*. For cert-manager ClusterIssuer.                                                                                                                                                                                                                            | `real-email@example.com`                                   |
| &nbsp;&nbsp;&nbsp;&nbsp;certProdSecretName:                                                          |                                                                                                                                                                                                                                                                                       | `cert-prod-secret`                                         |
| &nbsp;&nbsp;&nbsp;&nbsp;certStagingSecretName:                                                       |                                                                                                                                                                                                                                                                                       | `cert-staging-secret`                                      |
| &nbsp;&nbsp;&nbsp;&nbsp;routeGrafana:                                                                |                                                                                                                                                                                                                                                                                       |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enabled:                                                         | Enables [mprove/templates/ingress/route-grafana.yaml](https://github.com/mprove-io/mprove-helm-charts/tree/master/mprove/templates/ingress/route-grafana) resource                                                                                                                    | `false`                                                    |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;host:                                                            |                                                                                                                                                                                                                                                                                       | `grafana.example.com`                                      |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destination:                                                     |                                                                                                                                                                                                                                                                                       | `grafana-service-name.grafana-namespace.svc.cluster.local` |
| **kubeSystemNodeSetup:**                                                                             | **Kubernetes Node Setup**                                                                                                                                                                                                                                                             |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;enabled:                                                                     | Enables [mprove/templates/kube-system-node-setup.yaml](https://github.com/mprove-io/mprove-helm-charts/tree/master/mprove/templates/kube-system-node-setup.yaml) resource. Increases the number of inotify max_user_watches per kubernetes node.                                      | `true`                                                     |
| **db:**                                                                                              | **Mprove Application Database**                                                                                                                                                                                                                                                       |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;enabled:                                                                     | Enables [mprove/templates/db.yaml](https://github.com/mprove-io/mprove-helm-charts/tree/master/mprove/templates/db.yaml) resource                                                                                                                                                     | `true`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;image:                                                                       |                                                                                                                                                                                                                                                                                       | `mysql`                                                    |
| &nbsp;&nbsp;&nbsp;&nbsp;tag:                                                                         |                                                                                                                                                                                                                                                                                       | `8.0.29`                                                   |
| &nbsp;&nbsp;&nbsp;&nbsp;name:                                                                        |                                                                                                                                                                                                                                                                                       | `db`                                                       |
| &nbsp;&nbsp;&nbsp;&nbsp;storage:                                                                     |                                                                                                                                                                                                                                                                                       | `10Gi`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;envsSecretName:                                                              | Secret name from which db container will get environment variables                                                                                                                                                                                                                    | `db-envs`                                                  |
| &nbsp;&nbsp;&nbsp;&nbsp;createEnvsSecret:                                                            | Creates [mprove/templates/secrets/secret-db-envs.yaml](https://github.com/mprove-io/mprove-helm-charts/tree/master/mprove/templates/secrets/secret-db-envs.yaml) secret from envs values                                                                                              | `true`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;envs:                                                                        |                                                                                                                                                                                                                                                                                       |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MYSQL_ROOT_PASSWORD:                                 | *Replace with your value*                                                                                                                                                                                                                                                             | `mysqlpass`                                                |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MYSQL_DATABASE:                                      |                                                                                                                                                                                                                                                                                       | `mprovedb`                                                 |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MYSQL_USERNAME:                                      |                                                                                                                                                                                                                                                                                       | `root`                                                     |
| **rabbit:**                                                                                          | **Mprove Application Message Queue**                                                                                                                                                                                                                                                  |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;enabled:                                                                     | Enables [mprove/templates/rabbit.yaml](https://github.com/mprove-io/mprove-helm-charts/tree/master/mprove/templates/rabbit.yaml) resource                                                                                                                                             | `true`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;image:                                                                       |                                                                                                                                                                                                                                                                                       | `rabbitmq`                                                 |
| &nbsp;&nbsp;&nbsp;&nbsp;tag:                                                                         |                                                                                                                                                                                                                                                                                       | `3.10.6-management`                                        |
| &nbsp;&nbsp;&nbsp;&nbsp;name:                                                                        |                                                                                                                                                                                                                                                                                       | `rabbit`                                                   |
| &nbsp;&nbsp;&nbsp;&nbsp;envsSecretName:                                                              | Secret name from which rabbit container will get environment variables                                                                                                                                                                                                                | `rabbit-envs`                                              |
| &nbsp;&nbsp;&nbsp;&nbsp;createEnvsSecret:                                                            | Creates [mprove/templates/secrets/secret-rabbit-envs.yaml](https://github.com/mprove-io/mprove-helm-charts/tree/master/mprove/templates/secrets/secret-rabbit-envs.yaml) secret from envs values                                                                                      | `true`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;envs:                                                                        |                                                                                                                                                                                                                                                                                       |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RABBITMQ_DEFAULT_USER:                               |                                                                                                                                                                                                                                                                                       | `rabbituser`                                               |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RABBITMQ_DEFAULT_PASS:                               | *Replace with your value*                                                                                                                                                                                                                                                             | `rabbitpass`                                               |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RABBITMQ_ERLANG_COOKIE:                              | *Replace with your value*                                                                                                                                                                                                                                                             | `rabbitcookie`                                             |
| **front:**                                                                                           | **Mprove Frontend Service (Nginx)**                                                                                                                                                                                                                                                   |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;image:                                                                       |                                                                                                                                                                                                                                                                                       | `ghcr.io/mprove-io/mprove-front`                           |
| &nbsp;&nbsp;&nbsp;&nbsp;name:                                                                        |                                                                                                                                                                                                                                                                                       | `front`                                                    |
| &nbsp;&nbsp;&nbsp;&nbsp;replicas:                                                                    |                                                                                                                                                                                                                                                                                       | `1`                                                        |
| **disk:**                                                                                            | **Mprove Disk Service**                                                                                                                                                                                                                                                               |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;image:                                                                       |                                                                                                                                                                                                                                                                                       | `ghcr.io/mprove-io/mprove-disk`                            |
| &nbsp;&nbsp;&nbsp;&nbsp;name:                                                                        |                                                                                                                                                                                                                                                                                       | `disk`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;storage:                                                                     |                                                                                                                                                                                                                                                                                       | `2Gi`                                                      |
| &nbsp;&nbsp;&nbsp;&nbsp;envsSecretName:                                                              | Secret name from which disk containers will get environment variables                                                                                                                                                                                                                 | `disk-envs`                                                |
| &nbsp;&nbsp;&nbsp;&nbsp;createEnvsSecret:                                                            | Creates [mprove/templates/secrets/secret-disk-envs.yaml](https://github.com/mprove-io/mprove-helm-charts/tree/master/mprove/templates/secrets/secret-disk-envs.yaml) secret from envs values                                                                                          | `true`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;envs:                                                                        |                                                                                                                                                                                                                                                                                       |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NODE_ENV:                                            |                                                                                                                                                                                                                                                                                       | `production`                                               |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DISK_ENV:                                            |                                                                                                                                                                                                                                                                                       | `PROD`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DISK_ORGANIZATIONS_PATH:                             |                                                                                                                                                                                                                                                                                       | `/root/mprove_data/organizations`                          |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DISK_RABBIT_PROTOCOL:                                |                                                                                                                                                                                                                                                                                       | `amqp`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DISK_RABBIT_USER:                                    |                                                                                                                                                                                                                                                                                       | `rabbituser`                                               |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DISK_RABBIT_PASS:                                    | *Replace with your value*                                                                                                                                                                                                                                                             | `rabbitpass`                                               |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DISK_RABBIT_HOST:                                    |                                                                                                                                                                                                                                                                                       | `rabbit`                                                   |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DISK_RABBIT_PORT:                                    |                                                                                                                                                                                                                                                                                       | `5672`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DISK_LOG_IS_JSON:                                    | Value must be `'TRUE'` or `'FALSE'`                                                                                                                                                                                                                                                   | `'TRUE'`                                                   |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DISK_LOG_RESPONSE_ERROR:                             | Value must be `'TRUE'` or `'FALSE'`                                                                                                                                                                                                                                                   | `'FALSE'`                                                  |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DISK_LOG_RESPONSE_OK:                                | Value must be `'TRUE'` or `'FALSE'`                                                                                                                                                                                                                                                   | `'FALSE'`                                                  |
| **blockmlSingle:**                                                                                   | **Mprove BlockML Service**                                                                                                                                                                                                                                                            |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;name:                                                                        |                                                                                                                                                                                                                                                                                       | `blockml-single`                                           |
| &nbsp;&nbsp;&nbsp;&nbsp;replicas:                                                                    |                                                                                                                                                                                                                                                                                       | `1`                                                        |
| **blockmlCommon:**                                                                                   | **Mprove common values for BlockML services**                                                                                                                                                                                                                                         |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;image:                                                                       |                                                                                                                                                                                                                                                                                       | `ghcr.io/mprove-io/mprove-blockml`                         |
| &nbsp;&nbsp;&nbsp;&nbsp;envsSecretName:                                                              | Secret name from which blockml containers will get environment variables                                                                                                                                                                                                              | `blockml-common-envs`                                      |
| &nbsp;&nbsp;&nbsp;&nbsp;createEnvsSecret:                                                            | Creates [mprove/templates/secrets/secret-blockml-common-envs.yaml](https://github.com/mprove-io/mprove-helm-charts/tree/master/mprove/templates/secrets/secret-blockml-common-envs.yaml) secret from envs values                                                                      | `true`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;envs:                                                                        |                                                                                                                                                                                                                                                                                       |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NODE_ENV:                                            |                                                                                                                                                                                                                                                                                       | `production`                                               |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLOCKML_ENV:                                         |                                                                                                                                                                                                                                                                                       | `PROD`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLOCKML_RABBIT_PROTOCOL:                             |                                                                                                                                                                                                                                                                                       | `amqp`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLOCKML_RABBIT_USER:                                 |                                                                                                                                                                                                                                                                                       | `rabbituser`                                               |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLOCKML_RABBIT_PASS:                                 | *Replace with your value*                                                                                                                                                                                                                                                             | `rabbitpass`                                               |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLOCKML_RABBIT_HOST:                                 |                                                                                                                                                                                                                                                                                       | `rabbit`                                                   |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLOCKML_RABBIT_PORT:                                 |                                                                                                                                                                                                                                                                                       | `5672`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLOCKML_LOG_IO:                                      | Value must be `'TRUE'` or `'FALSE'`                                                                                                                                                                                                                                                   | `'FALSE'`                                                  |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLOCKML_LOG_FUNC:                                    |                                                                                                                                                                                                                                                                                       | `ALL`                                                      |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLOCKML_COPY_LOGS_TO_MODELS:                         | Value must be `'TRUE'` or `'FALSE'`                                                                                                                                                                                                                                                   | `'FALSE'`                                                  |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLOCKML_LOGS_PATH:                                   |                                                                                                                                                                                                                                                                                       | `/root/mprove_data/blockml-logs`                           |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLOCKML_IS_SINGLE:                                   | Value must be `'TRUE'` or `'FALSE'`                                                                                                                                                                                                                                                   | `'FALSE'`                                                  |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLOCKML_IS_MAIN:                                     | Value must be `'TRUE'` or `'FALSE'`                                                                                                                                                                                                                                                   | `'FALSE'`                                                  |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLOCKML_IS_WORKER:                                   | Value must be `'TRUE'` or `'FALSE'`                                                                                                                                                                                                                                                   | `'FALSE`'                                                  |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLOCKML_CONCURRENCY_LIMIT:                           |                                                                                                                                                                                                                                                                                       | `0`                                                        |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLOCKML_LOG_IS_JSON:                                 | Value must be `'TRUE'` or `'FALSE'`                                                                                                                                                                                                                                                   | `'TRUE'`                                                   |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLOCKML_LOG_RESPONSE_ERROR:                          | Value must be `'TRUE'` or `'FALSE'`                                                                                                                                                                                                                                                   | `'FALSE'`                                                  |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BLOCKML_LOG_RESPONSE_OK:                             | Value must be `'TRUE'` or `'FALSE'`                                                                                                                                                                                                                                                   | `'FALSE'`                                                  |
| **backend:**                                                                                         | **Mprove Backend Service**                                                                                                                                                                                                                                                            |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;name:                                                                        |                                                                                                                                                                                                                                                                                       | `backend`                                                  |
| &nbsp;&nbsp;&nbsp;&nbsp;replicas:                                                                    |                                                                                                                                                                                                                                                                                       | `1`                                                        |
| **backendScheduler:**                                                                                | **Mprove Backend Scheduler Service**                                                                                                                                                                                                                                                  |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;name:                                                                        |                                                                                                                                                                                                                                                                                       | `backend-scheduler`                                        |
| **backendCommon:**                                                                                   | **Mprove common values for Backend services**                                                                                                                                                                                                                                         |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;image:                                                                       |                                                                                                                                                                                                                                                                                       | `ghcr.io/mprove-io/mprove-backend`                         |
| &nbsp;&nbsp;&nbsp;&nbsp;envsSecretName:                                                              | Secret name from which backend containers will get environment variables                                                                                                                                                                                                              | `backend-common-envs`                                      |
| &nbsp;&nbsp;&nbsp;&nbsp;secretFilesSecretName:                                                       | Secret name from which backend containers will get secret files                                                                                                                                                                                                                       | `backend-common-secret-files`                              |
| &nbsp;&nbsp;&nbsp;&nbsp;createEnvsSecret:                                                            | Creates [mprove/templates/secrets/secret-backend-common-envs.yaml](https://github.com/mprove-io/mprove-helm-charts/tree/master/mprove/templates/secrets/secret-backend-common-envs.yaml) secret from envs values                                                                      | `true`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;createSecretFilesSecret:                                                     | Creates [mprove/templates/secrets/secret-backend-common-secret-files.yaml](https://github.com/mprove-io/mprove-helm-charts/tree/master/mprove/templates/secrets/secret-backend-common-secret-files.yaml) secret from firstProject* values                                             | `true`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;firstProjectBigqueryCredentials:                                             | *Replace with your value*. Required for first project bigquery connection seed if BACKEND_FIRST_PROJECT_SEED_CONNECTIONS is set to `'TRUE'`.                                                                                                                                          | `{}`                                                       |
| &nbsp;&nbsp;&nbsp;&nbsp;firstProjectRemotePrivateKey:                                                | *Replace with your value*. Required if BACKEND FIRST_PROJECT_REMOTE_TYPE is set to `GitClone`                                                                                                                                                                                         | `''`                                                       |
| &nbsp;&nbsp;&nbsp;&nbsp;firstProjectRemotePublicKey:                                                 | *Replace with your value*. Required if BACKEND FIRST_PROJECT_REMOTE_TYPE is set to `GitClone`                                                                                                                                                                                         | `''`                                                       |
| &nbsp;&nbsp;&nbsp;&nbsp;envs:                                                                        |                                                                                                                                                                                                                                                                                       |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NODE_ENV:                                            |                                                                                                                                                                                                                                                                                       | `production`                                               |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_ENV:                                         |                                                                                                                                                                                                                                                                                       | `PROD`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_MYSQL_DATABASE:                              |                                                                                                                                                                                                                                                                                       | `mprovedb`                                                 |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_MYSQL_PASSWORD:                              |                                                                                                                                                                                                                                                                                       | `mysqlpass`                                                |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_MYSQL_HOST:                                  |                                                                                                                                                                                                                                                                                       | `db`                                                       |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_MYSQL_PORT:                                  |                                                                                                                                                                                                                                                                                       | `3306`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_MYSQL_USERNAME:                              |                                                                                                                                                                                                                                                                                       | `root`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_RABBIT_PROTOCOL:                             |                                                                                                                                                                                                                                                                                       | `amqp`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_RABBIT_USER:                                 |                                                                                                                                                                                                                                                                                       | `rabbituser`                                               |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_RABBIT_PASS:                                 | *Replace with your value*                                                                                                                                                                                                                                                             | `rabbitpass`                                               |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_RABBIT_HOST:                                 |                                                                                                                                                                                                                                                                                       | `rabbit`                                                   |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_RABBIT_PORT:                                 |                                                                                                                                                                                                                                                                                       | `5672`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_JWT_SECRET:                                  | *Replace with your value*                                                                                                                                                                                                                                                             | `jwtsecret`                                                |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_SPECIAL_KEY:                                 |                                                                                                                                                                                                                                                                                       |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_ALLOW_TEST_ROUTES:                           | Value must be `'TRUE'` or `'FALSE'`. Value `'TRUE'` should be used for testing purposes only.                                                                                                                                                                                         | `'FALSE'`                                                  |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_FIRST_USER_EMAIL:                            | *Replace with your real email*                                                                                                                                                                                                                                                        | `real-email@example.com`                                   |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_FIRST_USER_PASSWORD:                         | *Replace with your value*                                                                                                                                                                                                                                                             | `userpass`                                                 |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_FIRST_ORG_ID:                                |                                                                                                                                                                                                                                                                                       | `AWNCAHWLFQTQJYCH3ZSE`                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_FIRST_PROJECT_ID:                            |                                                                                                                                                                                                                                                                                       | `DXYE72ODCP5LWPWH2EXQ`                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_FIRST_PROJECT_REMOTE_TYPE:                   | Value must be `Managed` or `GitClone`.                                                                                                                                                                                                                                                | `Managed`                                                  |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_FIRST_PROJECT_GIT_URL:                       | *Replace with your value*. Required if BACKEND FIRST_PROJECT_REMOTE_TYPE is set to `GitClone`. Git URL format is `git@github.com:account-name/repo-name.git`.                                                                                                                         |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_FIRST_PROJECT_PRIVATE_KEY_PATH:              |                                                                                                                                                                                                                                                                                       | `secrets/first-project-remote-private-key.pem`             |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_FIRST_PROJECT_PUBLIC_KEY_PATH:               |                                                                                                                                                                                                                                                                                       | `secrets/first-project-remote-public-key.pem`              |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_FIRST_PROJECT_SEED_CONNECTIONS:              | Value must be `'TRUE'` or `'FALSE'`                                                                                                                                                                                                                                                   | `'TRUE'`                                                   |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_FIRST_PROJECT_DWH_POSTGRES_PASSWORD:         | *Replace with your value*                                                                                                                                                                                                                                                             | `postgrespass`                                             |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_FIRST_PROJECT_DWH_CLICKHOUSE_PASSWORD:       | *Replace with your value*                                                                                                                                                                                                                                                             | `clickhousepass`                                           |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_FIRST_PROJECT_DWH_BIGQUERY_CREDENTIALS_PATH: |                                                                                                                                                                                                                                                                                       | `secrets/first-project-bigquery-credentials.json`          |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_FIRST_PROJECT_DWH_SNOWFLAKE_ACCOUNT:         | *Replace with your value*                                                                                                                                                                                                                                                             | `realSnowflakeAccount`                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_FIRST_PROJECT_DWH_SNOWFLAKE_WAREHOUSE:       | *Replace with your value*                                                                                                                                                                                                                                                             | `realSnowflakeWarehouse`                                   |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_FIRST_PROJECT_DWH_SNOWFLAKE_USERNAME:        | *Replace with your value*                                                                                                                                                                                                                                                             | `realSnowflakeUsername`                                    |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_FIRST_PROJECT_DWH_SNOWFLAKE_PASSWORD:        | *Replace with your value*                                                                                                                                                                                                                                                             | `realSnowflakePassword`                                    |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_ALLOW_USERS_TO_CREATE_ORGANIZATIONS:         | Value must be `'TRUE'` or `'FALSE'`. If set to `'FALSE'`, then make sure BACKEND_FIRST_USER_EMAIL and BACKEND_FIRST_USER_PASSWORD are not empty, as only the First User will be able to create new organizations.                                                                     | `'FALSE'`                                                  |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_REGISTER_ONLY_INVITED_USERS:                 | Value must be `'TRUE'` or `'FALSE'`. If set to `'TRUE'`, then make sure BACKEND_FIRST_USER_EMAIL and BACKEND_FIRST_USER_PASSWORD are not empty, as new users will only be able to register if they are invited to a project (by First User or other registered users).                | `'TRUE'`                                                   |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_HOST_URL:                                    | *Replace with your value*                                                                                                                                                                                                                                                             | `https://real-host.example.com`                            |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_SEND_EMAIL_FROM_NAME:                        | *Replace with your value*                                                                                                                                                                                                                                                             | `My Company Name`                                          |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_SEND_EMAIL_FROM_ADDRESS:                     | *Replace with your value*                                                                                                                                                                                                                                                             | `no-reply@example.com`                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_EMAIL_TRANSPORT:                             | Value must be `SMTP` or `MAILGUN`. Email delivery is used for transactional emails. Such as inviting new team members to the project, confirming registration or changing the password. Without a working email delivery credentials, users will not be able to confirm registration. | `SMTP`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_MAILGUN_ACTIVE_API_KEY:                      |                                                                                                                                                                                                                                                                                       |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_MAILGUN_DOMAIN:                              |                                                                                                                                                                                                                                                                                       |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_SMTP_HOST:                                   | *Replace with your value*                                                                                                                                                                                                                                                             | `real-smtp.example.com`                                    |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_SMTP_PORT:                                   | *Replace with your value*                                                                                                                                                                                                                                                             | `465`                                                      |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_SMTP_SECURE:                                 | Value must be `'TRUE'` or `'FALSE'`                                                                                                                                                                                                                                                   | `'TRUE'`                                                   |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_SMTP_AUTH_USER:                              | *Replace with your value*                                                                                                                                                                                                                                                             | `realSmtpUser`                                             |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_SMTP_AUTH_PASSWORD:                          | *Replace with your value*                                                                                                                                                                                                                                                             | `realSmtpPassword`                                         |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_LOG_IS_JSON:                                 | Value must be `'TRUE'` or `'FALSE'`                                                                                                                                                                                                                                                   | `'TRUE'`                                                   |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_LOG_RESPONSE_ERROR:                          | Value must be `'TRUE'` or `'FALSE'`                                                                                                                                                                                                                                                   | `'FALSE'`                                                  |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BACKEND_LOG_RESPONSE_OK:                             | Value must be `'TRUE'` or `'FALSE'`                                                                                                                                                                                                                                                   | `'FALSE'`                                                  |
| **dwhPostgres:**                                                                                     | **DWH Postgres container should only be used for First Project demonstration purposes**                                                                                                                                                                                               |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;enabled:                                                                     | Enables [mprove/templates/dwh-postgres.yaml](https://github.com/mprove-io/mprove-helm-charts/tree/master/mprove/templates/dwh-postgres.yaml) resource                                                                                                                                 | `true`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;image:                                                                       |                                                                                                                                                                                                                                                                                       | `ghcr.io/mprove-io/mprove-dwh-postgres`                    |
| &nbsp;&nbsp;&nbsp;&nbsp;name:                                                                        |                                                                                                                                                                                                                                                                                       | `dwh-postgres`                                             |
| &nbsp;&nbsp;&nbsp;&nbsp;storage:                                                                     |                                                                                                                                                                                                                                                                                       | `2Gi`                                                      |
| &nbsp;&nbsp;&nbsp;&nbsp;envsSecretName:                                                              | Secret name from which dwhPostgres container will get environment variables                                                                                                                                                                                                           | `dwh-postgres-envs`                                        |
| &nbsp;&nbsp;&nbsp;&nbsp;createEnvsSecret:                                                            | Creates [mprove/templates/secrets/secret-dwh-postgres-envs.yaml](https://github.com/mprove-io/mprove-helm-charts/tree/master/mprove/templates/secrets/secret-dwh-postgres-envs.yaml) secret from envs values                                                                          | `true`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;envs:                                                                        |                                                                                                                                                                                                                                                                                       |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PGDATA:                                              |                                                                                                                                                                                                                                                                                       | `/var/lib/postgresql/data/pgdata`                          |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;POSTGRES_PASSWORD:                                   | *Replace with your value*                                                                                                                                                                                                                                                             | `postgrespass`                                             |
| **dwhClickhouse:**                                                                                   | **DWH ClickHouse container should only be used for First Project demonstration purposes**                                                                                                                                                                                             |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;enabled:                                                                     | Enables [mprove/templates/dwh-clickhouse.yaml](https://github.com/mprove-io/mprove-helm-charts/tree/master/mprove/templates/dwh-clickhouse.yaml) resource.                                                                                                                            | `true`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;image:                                                                       |                                                                                                                                                                                                                                                                                       | `ghcr.io/mprove-io/mprove-dwh-clickhouse`                  |
| &nbsp;&nbsp;&nbsp;&nbsp;name:                                                                        |                                                                                                                                                                                                                                                                                       | `dwh-clickhouse`                                           |
| &nbsp;&nbsp;&nbsp;&nbsp;storage:                                                                     |                                                                                                                                                                                                                                                                                       | `2Gi`                                                      |
| &nbsp;&nbsp;&nbsp;&nbsp;storageLogs:                                                                 |                                                                                                                                                                                                                                                                                       | `2Gi`                                                      |
| &nbsp;&nbsp;&nbsp;&nbsp;envsSecretName:                                                              | Secret name from which dwhClickhouse container will get environment variables                                                                                                                                                                                                         | `dwh-clickhouse-envs`                                      |
| &nbsp;&nbsp;&nbsp;&nbsp;createEnvsSecret:                                                            | Creates [mprove/templates/secrets/secret-dwh-clickhouse-envs.yaml](https://github.com/mprove-io/mprove-helm-charts/tree/master/mprove/templates/secrets/secret-dwh-clickhouse-envs.yaml) secret from envs values                                                                      | `true`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;envs:                                                                        |                                                                                                                                                                                                                                                                                       |                                                            |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CLICKHOUSE_DB:                                       |                                                                                                                                                                                                                                                                                       | `c_db`                                                     |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CLICKHOUSE_USER:                                     |                                                                                                                                                                                                                                                                                       | `c_user`                                                   |
| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CLICKHOUSE_PASSWORD:                                 | *Replace with your value*                                                                                                                                                                                                                                                             | `clickhousepass`                                           |
